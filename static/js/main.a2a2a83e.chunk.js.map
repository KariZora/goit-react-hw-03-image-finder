{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/utils/api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","onSubmit","useState","search","setSearch","className","e","preventDefault","type","autoСomplete","autoFocus","placeholder","value","onChange","currentTarget","ImageGalleryItem","img","onShowModal","onClick","largeImageURL","tags","src","webformatURL","alt","ImageGallary","children","map","data","id","api","searchImg","pageImg","axios","get","catch","error","console","log","Button","onLoadMore","Modal","onCloseModal","useEffect","onKeyup","key","window","addEventListener","removeEventListener","event","target","App","gallery","setGallery","pageNumber","setPageNumber","imgTitle","setImgTitle","loaderSpinner","setLoaderSpinner","showModal","setModal","setSrc","setAlt","handleShowPictures","then","response","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","handleShowModal","prev","trim","length","prevPage","style","textAlign","position","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a2a2a83e.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [search, setSearch] = useState('');\r\n\r\n  return (\r\n    <header\r\n      className=\"Searchbar\"\r\n      onSubmit={e => {\r\n        e.preventDefault();\r\n        onSubmit(search);\r\n      }}\r\n    >\r\n      <form className=\"SearchForm\">\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoСomplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={search}\r\n          onChange={e => {\r\n            setSearch(e.currentTarget.value);\r\n          }}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","const ImageGalleryItem = ({ img, onShowModal }) => {\r\n  return (\r\n    <li\r\n      className=\"ImageGalleryItem\"\r\n      onClick={() => onShowModal(img.largeImageURL, img.tags)}\r\n    >\r\n      <img\r\n        src={img.webformatURL}\r\n        alt={img.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallary = ({ children, onShowModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {children.map((data, id) => (\r\n        <ImageGalleryItem key={id} img={data} onShowModal={onShowModal} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallary;\r\n","import axios from 'axios';\r\n\r\nconst api = (searchImg, pageImg) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchImg}&page=${pageImg}&key=20693551-d0a20ef5437303d990fffd1b9&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nexport default api;\r\n","const Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button\r\n      className=\"loadMoreBtn\"\r\n      onClick={() => {\r\n        onLoadMore();\r\n      }}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\n\r\nconst Modal = ({ src, alt = 'img', onCloseModal }) => {\r\n  const handleCloseModal = event => {\r\n    if (event.target === event.currentTarget) onCloseModal();\r\n  };\r\n\r\n  useEffect(() => {\r\n    function onKeyup(e) {\r\n      if (e.key === 'Escape') {\r\n        onCloseModal();\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keyup', onKeyup);\r\n    return () => window.removeEventListener('keyup', onKeyup);\r\n  });\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={handleCloseModal}>\r\n      <div className=\"Modal\">\r\n        <img src={src} alt={alt} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallary from './components/ImageGallery/ImageGallery';\nimport api from './components/utils/api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from 'react-loader-spinner';\n\nfunction App() {\n  const [gallery, setGallery] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [imgTitle, setImgTitle] = useState('');\n  const [loaderSpinner, setLoaderSpinner] = useState(false);\n  const [showModal, setModal] = useState(false);\n  const [src, setSrc] = useState('');\n  const [alt, setAlt] = useState('');\n\n  const handleSubmit = value => {\n    setPageNumber(1);\n    setGallery([]);\n    setImgTitle(value.trim(), handleShowPictures(value.trim()));\n  };\n\n  const handleLoadMore = () => {\n    setPageNumber(prevPage => prevPage + 1);\n  };\n\n  const handleShowPictures = (value = imgTitle) => {\n    setLoaderSpinner(true);\n    api(value, pageNumber)\n      .then(response => {\n        setGallery(prevState => [...prevState, ...response.data.hits]);\n      })\n      .then(() => setLoaderSpinner(false))\n      .then(() => {\n        if (pageNumber !== 1)\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n      });\n  };\n\n  const handleShowModal = (src, alt) => {\n    if (!showModal) {\n      setSrc(prev => src);\n      setAlt(prev => alt);\n      setModal(true);\n    } else {\n      setModal(false);\n    }\n  };\n\n  useEffect(\n    () => {\n      if (pageNumber === 1) return;\n      handleShowPictures();\n    },\n    // eslint-disable-next-line\n    [pageNumber],\n  );\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSubmit} />\n      <ImageGallary onShowModal={handleShowModal}>{gallery}</ImageGallary>\n      {gallery.length > 0 && !loaderSpinner && (\n        <Button onLoadMore={handleLoadMore} />\n      )}\n      {showModal && (\n        <Modal src={src} alt={alt} onCloseModal={handleShowModal} />\n      )}\n      {loaderSpinner && (\n        <div\n          className=\"Overlay\"\n          style={{ textAlign: 'center', position: 'fixed' }}\n        >\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={200} width={200} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}